2021-12-27 20:13:19 jdbc[3]: null
org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.testSetUp(DataProviderJdbcTest.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 32 more
2021-12-27 20:13:19 jdbc[3]: null
org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.testSetUp(DataProviderJdbcTest.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 32 more
2021-12-27 20:13:19 jdbc[3]: null
org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.testSetUp(DataProviderJdbcTest.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 32 more
2021-12-27 20:13:19 jdbc[3]: null
org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.testSetUp(DataProviderJdbcTest.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 32 more
2021-12-27 20:13:19 jdbc[3]: null
org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.testSetUp(DataProviderJdbcTest.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 32 more
2021-12-27 20:13:19 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:51:15 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:57 jdbc[14]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-12-28'  [42102-200]
2021-12-28 07:52:57 jdbc[15]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-12-28'  [42102-200]
2021-12-28 07:52:57 jdbc[16]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:57 jdbc[17]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:57 jdbc[44]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:57 jdbc[49]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:57 jdbc[50]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:57 jdbc[51]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[62]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[63]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[64]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[65]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[77]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[83]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[90]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[96]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[97]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[98]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:58 jdbc[122]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:59 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:59 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-12-15'  [42102-200]
2021-12-28 07:52:59 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-11-21'  [42102-200]
2021-12-28 07:52:59 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-01-12'  [42102-200]
2021-12-28 07:52:59 jdbc[7]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-12-12'  [42102-200]
2021-12-28 07:52:59 jdbc[8]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-01-01'  [42102-200]
2021-12-28 07:52:59 jdbc[9]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-01-13'  [42102-200]
2021-12-28 07:52:59 jdbc[10]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:52:59 jdbc[19]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:00 jdbc[24]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:00 jdbc[25]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:00 jdbc[26]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:00 jdbc[44]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:155)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:29)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.processAction(DataProviderJdbc.java:1306)
	at ru.sfedu.api.DataProviderJdbc.appendOrDeleteUsersSecurity(DataProviderJdbc.java:1270)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1181)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.processAction(DataProviderJdbc.java:1306)
	at ru.sfedu.api.DataProviderJdbc.appendOrDeleteUsersSecurity(DataProviderJdbc.java:1270)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1181)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:28)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1045)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1045)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1205)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:27)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:155)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1133)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1333)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1186)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1186)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.processAction(DataProviderJdbc.java:1306)
	at ru.sfedu.api.DataProviderJdbc.appendOrDeleteUsersSecurity(DataProviderJdbc.java:1270)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1181)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1205)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendSecurityHistory(DataProviderJdbc.java:790)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1165)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrDeleteUsersSecurity(DataProviderJdbc.java:1274)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1181)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1186)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1325)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1333)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1325)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.appendSecurityHistory(DataProviderJdbc.java:792)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1165)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1045)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:861)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:28)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1333)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1333)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1045)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1325)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendUsers(DataProviderJdbc.java:955)
	at ru.sfedu.api.DataProviderJdbc.appendUser(DataProviderJdbc.java:981)
	at ru.sfedu.api.DataProviderJdbcTest.initUser(DataProviderJdbcTest.java:1169)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1323)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:861)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1078)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1045)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1136)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:861)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1186)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:26)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1045)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1045)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:25)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.updateSecurities(DataProviderJdbc.java:330)
	at ru.sfedu.api.DataProviderJdbc.updateStocks(DataProviderJdbc.java:608)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:609)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:26)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:467)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:467)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:861)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:26)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:27)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetBonds(DataProviderJdbcTest.java:950)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:29)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:25)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUsers(DataProviderJdbc.java:995)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetUsers(DataProviderJdbcTest.java:92)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:28)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:27)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:27)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:598)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:598)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:598)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:25)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:192)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:29)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:28)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.updateSecurities(DataProviderJdbc.java:336)
	at ru.sfedu.api.DataProviderJdbc.updateStocks(DataProviderJdbc.java:608)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:609)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:29)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:192)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:28)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:467)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:29)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:861)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:155)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:27)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:467)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:467)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1133)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:25)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:155)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:598)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:28)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:598)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:26)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:27)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1133)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:192)
	at ru.sfedu.api.DataProviderJdbc.getActiveSecurities(DataProviderJdbc.java:1415)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1194)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:29)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:467)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:25)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:598)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:26)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:598)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:28)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:25)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:861)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetMarkets(DataProviderJdbcTest.java:509)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:28)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:598)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:26)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:155)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:861)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:598)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.appendSecurityHistory(DataProviderJdbc.java:792)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1165)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:467)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:155)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:467)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:468)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:26)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:25)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:471)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:467)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendSecurityHistory(DataProviderJdbc.java:790)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1165)
	at ru.sfedu.api.DataProviderJdbcTest.testFailGetActiveSecurities(DataProviderJdbcTest.java:1191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:29)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:27)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:599)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarket(DataProviderJdbc.java:198)
	at ru.sfedu.api.DataProviderJdbcTest.testAppendOrUpdateMarket(DataProviderJdbcTest.java:486)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbcTest.testUpdateStocks(DataProviderJdbcTest.java:614)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:29)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:155)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUsers(DataProviderJdbc.java:995)
	at ru.sfedu.api.DataProviderJdbc.appendUsers(DataProviderJdbc.java:951)
	at ru.sfedu.api.DataProviderJdbc.appendUser(DataProviderJdbc.java:981)
	at ru.sfedu.api.DataProviderJdbcTest.initUser(DataProviderJdbcTest.java:1169)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1323)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:173)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1078)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1325)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1078)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrDeleteUsersSecurity(DataProviderJdbc.java:1274)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1181)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1325)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.processAction(DataProviderJdbc.java:1306)
	at ru.sfedu.api.DataProviderJdbc.appendOrDeleteUsersSecurity(DataProviderJdbc.java:1270)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1181)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1325)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1333)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrDeleteUsersSecurity(DataProviderJdbc.java:1274)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1181)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1078)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1205)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1325)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1078)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1325)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:00 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1175)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.deleteSecurityByTicker(DataProviderJdbc.java:363)
	at ru.sfedu.api.DataProviderJdbc.deleteBondByTicker(DataProviderJdbc.java:644)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1048)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:25)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:290)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1050)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1205)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:433)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:155)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getBondByTicker(DataProviderJdbc.java:654)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:702)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:26)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:245)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1134)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbcTest.testGetSecurityByTicker(DataProviderJdbcTest.java:1136)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToBond(DataProviderJdbc.java:584)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:250)
	at ru.sfedu.api.DataProviderJdbc.getBonds(DataProviderJdbc.java:629)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getBondsByTickerList(DataProviderJdbc.java:672)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:684)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1205)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:155)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1045)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateSecurityHistory(DataProviderJdbc.java:886)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:296)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.testFailDeleteBondByTicker(DataProviderJdbcTest.java:1045)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1334)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.dropTable(DataProviderJdbc.java:57)
	at ru.sfedu.api.DataProviderJdbcTest.deleteFile(DataProviderJdbcTest.java:20)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:27)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:31)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1329)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:288)
	at ru.sfedu.api.DataProviderJdbc.appendStocks(DataProviderJdbc.java:603)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1162)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:74)
	at ru.sfedu.api.DataProviderJdbc.appendOrDeleteUsersSecurity(DataProviderJdbc.java:1274)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1181)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1333)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:460)
	at ru.sfedu.api.DataProviderJdbc.getStocksByTickerList(DataProviderJdbc.java:663)
	at ru.sfedu.api.DataProviderJdbc.getSecuritiesByTickerList(DataProviderJdbc.java:683)
	at ru.sfedu.api.DataProviderJdbc.getUsersSecurity(DataProviderJdbc.java:1341)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:921)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.appendAction(DataProviderJdbc.java:1172)
	at ru.sfedu.api.DataProviderJdbc.performActon(DataProviderJdbc.java:1529)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1326)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.setHistory(DataProviderJdbc.java:225)
	at ru.sfedu.api.DataProviderJdbc.getSecurities(DataProviderJdbc.java:256)
	at ru.sfedu.api.DataProviderJdbc.getStocks(DataProviderJdbc.java:598)
	at ru.sfedu.api.DataProviderJdbc.getSecurityList(DataProviderJdbc.java:136)
	at ru.sfedu.api.DataProviderJdbc.resultSetToMarket(DataProviderJdbc.java:125)
	at ru.sfedu.api.DataProviderJdbc.getMarkets(DataProviderJdbc.java:178)
	at ru.sfedu.api.DataProviderJdbc.appendOrUpdateMarket(DataProviderJdbc.java:149)
	at ru.sfedu.api.DataProviderJdbc.appendSecurity(DataProviderJdbc.java:299)
	at ru.sfedu.api.DataProviderJdbc.appendBonds(DataProviderJdbc.java:634)
	at ru.sfedu.api.DataProviderJdbcTest.initData(DataProviderJdbcTest.java:1163)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1321)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[68]: java.lang.Exception: Open Stack Trace
	at org.h2.util.CloseWatcher.register(CloseWatcher.java:100)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:187)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistories(DataProviderJdbc.java:815)
	at ru.sfedu.api.DataProviderJdbc.deleteAllSecurityHistories(DataProviderJdbc.java:857)
	at ru.sfedu.api.DataProviderJdbcTest.setUp(DataProviderJdbcTest.java:30)
	at junit.framework.TestCase.runBare(TestCase.java:139)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)

org.h2.message.DbException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:245)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:186)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at ru.sfedu.api.DataProviderJdbc.getDbConnection(DataProviderJdbc.java:39)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryDBConnection(DataProviderJdbc.java:721)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:834)
	at ru.sfedu.api.DataProviderJdbc.getSecurityHistoryByDate(DataProviderJdbc.java:848)
	at ru.sfedu.api.DataProviderJdbc.resultSetToStock(DataProviderJdbc.java:552)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:438)
	at ru.sfedu.api.DataProviderJdbc.getStockByTicker(DataProviderJdbc.java:624)
	at ru.sfedu.api.DataProviderJdbc.getSecurityByTicker(DataProviderJdbc.java:699)
	at ru.sfedu.api.DataProviderJdbc.resultSetToAction(DataProviderJdbc.java:1164)
	at ru.sfedu.api.DataProviderJdbc.getActionHistory(DataProviderJdbc.java:1211)
	at ru.sfedu.api.DataProviderJdbc.resultSetToUser(DataProviderJdbc.java:920)
	at ru.sfedu.api.DataProviderJdbc.getUserById(DataProviderJdbc.java:1083)
	at ru.sfedu.api.DataProviderJdbc.checkVirtualBriefCase(DataProviderJdbc.java:1490)
	at ru.sfedu.api.DataProviderJdbcTest.testCheckVirtualBriefCase(DataProviderJdbcTest.java:1337)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Незакрытое приложением соединение уничтожено сборщиком мусора
The connection was not closed by the application and is garbage collected [90018-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	... 41 more
2021-12-28 07:53:01 jdbc[42]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:01 jdbc[43]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:02 jdbc[48]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:02 jdbc[72]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:02 jdbc[73]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:02 jdbc[84]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:02 jdbc[85]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:02 jdbc[86]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:02 jdbc[87]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:02 jdbc[88]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:02 jdbc[89]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[133]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-12-15'  [42102-200]
2021-12-28 07:53:03 jdbc[134]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-11-21'  [42102-200]
2021-12-28 07:53:03 jdbc[135]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-01-12'  [42102-200]
2021-12-28 07:53:03 jdbc[136]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-12-12'  [42102-200]
2021-12-28 07:53:03 jdbc[137]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-01-01'  [42102-200]
2021-12-28 07:53:03 jdbc[138]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER WHERE date = '2021-01-13'  [42102-200]
2021-12-28 07:53:03 jdbc[150]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[151]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[157]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[243]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[256]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[257]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[258]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[259]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[260]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[270]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
2021-12-28 07:53:03 jdbc[304]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SBER" не найдена
Table "SBER" not found; SQL statement:
SELECT * FROM SBER  [42102-200]
